<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Locked in Your Phone</title>
<style>
/* BODY */
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0f172a;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
  background: url('background.jpg') no-repeat center center;
  background-size: cover;
  background-attachment: fixed;
}

/* INTRO SCREEN */
#introScreen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(15,23,42,0.95); /* dark overlay */
  color: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 200;
}

#introScreen h1 {
  font-size: 36px;
  margin-bottom: 20px;
}

#introScreen p {
  font-size: 18px;
  margin: 5px 0;
}

#introScreen ul {
  text-align: left;
  margin: 10px 0 20px 0;
}

#introScreen li {
  margin-bottom: 8px;
}

#introScreen button {
  margin-top: 20px;
  padding: 12px 24px;
  font-size: 18px;
  border: none;
  border-radius: 10px;
  background-color: #22c55e;
  color: black;
  cursor: pointer;
}

/* PHONE */
#phone {
  width: 375px;
  height: 667px;
  background: linear-gradient(#111827, #020617);
  color: white;
  border-radius: 30px;
  box-shadow: 0 0 20px rgba(0,0,0,0.5);
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Side buttons */
.button-left, .button-right {
  position: absolute;
  width: 6px;
  height: 50px;
  background: #333;
  border-radius: 3px;
}

.button-left { left: -6px; top: 150px; }
.button-right { right: -6px; top: 150px; }

/* Notch + speaker */
.notch {
  width: 120px;
  height: 30px;
  background: #111827;
  border-radius: 0 0 20px 20px;
  margin-top: 10px;
  position: relative;
}

.speaker {
  width: 50px;
  height: 5px;
  background: #333;
  border-radius: 3px;
  position: absolute;
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
}

/* Screen container */
.screen {
  width: 100%;
  flex: 1;
  background: linear-gradient(#111827, #020617);
  padding: 20px;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Status bar, title, hint */
.status-bar {
  font-size: 12px;
  opacity: 0.6;
  width: 100%;
  text-align: center;
  margin-bottom: 10px;
}

h1 {
  margin: 8px 0 4px;
  font-size: 20px;
  text-align: center;
}

.hint {
  font-size: 12px;
  opacity: 0.7;
  text-align: center;
  margin-bottom: 20px;
}

/* Apps */
.apps {
  display: flex;
  flex-direction: column;
  gap: 15px;
  width: 100%;
  align-items: center;
  flex: 1;
  justify-content: center;
}

.app {
  width: 80%;
  height: 60px;
  background: #1e293b;
  border-radius: 15px;
  display: flex;
  align-items: center;
  justify-content: left;
  padding-left: 20px;
  font-size: 16px;
  cursor: pointer;
  transition: transform 0.2s, background 0.2s;
}

.app:hover {
  transform: translateX(5px);
  background: #334155;
}

.app span { margin-left: 10px; }

/* Escape button */
#escapeBtn {
  margin-top: 20px;
  padding: 12px;
  font-size: 16px;
  background: #22c55e;
  border: none;
  border-radius: 10px;
  color: black;
  cursor: pointer;
  opacity: 0.4;
  width: 80%;
}

#escapeBtn:enabled { opacity: 1; }

/* Modal overlay */
#overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(113, 68, 186, 0.85);
  padding: 16px;
  border-radius: 12px;
  width: 80%;
  max-width: 300px;
  text-align: center;
  z-index: 100;
}

.hidden { display: none; }

#choices button {
  margin-top: 8px;
  width: 100%;
  padding: 10px;
  cursor: pointer;
}

#feedback {
  margin-top: 10px;
  font-weight: bold;
  min-height: 20px;
}
</style>
</head>
<body>

<!-- INTRO SCREEN -->
<div id="introScreen">
  <h1>ðŸ”’ Locked in Your Phone</h1>
  <p>Welcome to the digital escape room!</p>
  <p>Youâ€™ve been trapped inside your own phone! To escape, you must carefully navigate through each app and make safe choices.</p>
  <p><strong>Rules:</strong></p>
  <ul>
    <li>Click on the apps to unlock scenarios.</li>
    <li>Make safe choices to avoid online harm.</li>
    <li>Unlock all three apps to enable the escape button.</li>
  </ul>
  <button id="startBtn">Start Escape</button>
</div>

<!-- PHONE UI -->
<div id="phone">
  <div class="button-left"></div>
  <div class="button-right"></div>
  <div class="notch">
    <div class="speaker"></div>
  </div>

  <div class="screen">
    <div class="status-bar">12:07 â€¢ No Signal</div>

    <h1>Locked in Your Phone</h1>
    <p class="hint">Unlock the apps to escape</p>

    <div class="apps">
      <div class="app" onclick="openScenario('messages')">ðŸ’¬<span>Messages</span></div>
      <div class="app" onclick="openScenario('camera')">ðŸ“·<span>Camera</span></div>
      <div class="app" onclick="openScenario('chat')">ðŸ”’<span>Private Chat</span></div>
    </div>

    <button id="escapeBtn" disabled onclick="alert('You escaped! Remember: Pause, Verify, Protect.')">
      ðŸšª Escape Phone
    </button>
  </div>
</div>

<!-- MODAL -->
<div id="overlay" class="hidden">
  <p id="scenarioText"></p>
  <div id="choices"></div>
  <p id="feedback"></p>
</div>

<script>
// Hide intro screen when start button is clicked
document.getElementById("startBtn").onclick = function() {
  document.getElementById("introScreen").style.display = "none";
}

let solved = { messages: false, camera: false, chat: false };

function openScenario(type) {
  const text = document.getElementById("scenarioText");
  const choices = document.getElementById("choices");
  const feedback = document.getElementById("feedback");

  choices.innerHTML = "";
  feedback.innerText = "";
  document.getElementById("overlay").classList.remove("hidden");

  if(type === "messages"){
    text.innerText = "A stranger says they know you and wants to chat.";
    addChoice("Reply immediately", false);
    addChoice("Ask them to verify who they are", true, "messages",
      "âœ” Fake accounts often pretend to be familiar. Always verify first."
    );
  }
  if(type === "camera"){
    text.innerText = "Someone asks for 'just one photo'.";
    addChoice("Send the photo", false);
    addChoice("Refuse and keep it private", true, "camera",
      "âœ” Once shared, images can be copied or misused."
    );
  }
  if(type === "chat"){
    text.innerText = "They ask you to keep the chat a secret.";
    addChoice("Continue privately", false);
    addChoice("End chat or seek help", true, "chat",
      "âœ” Secrecy is a common grooming tactic."
    );
  }
}

function addChoice(label, correct, key, message){
  const btn = document.createElement("button");
  btn.innerText = label;

  btn.onclick = function(){
    const feedback = document.getElementById("feedback");
    if(correct){
      solved[key] = true;
      feedback.innerText = message;
      checkEscape();
    } else {
      feedback.innerText = "âš  This choice can lead to online harm.";
    }
    setTimeout(() => {
      document.getElementById("overlay").classList.add("hidden");
    }, 2000);
  }

  document.getElementById("choices").appendChild(btn);
}

function checkEscape(){
  if(solved.messages && solved.camera && solved.chat){
    document.getElementById("escapeBtn").disabled = false;
  }
}
</script>

</body>
</html>
