<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Locked in Your Phone</title>

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#0f172a;
  font-family: Arial, sans-serif;
}

/* PHONE */
#phone{
  width:375px;
  height:667px;
  background:#020617;
  border-radius:30px;
  color:white;
  box-shadow:0 0 30px rgba(0,0,0,.6);
  position:relative;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

/* NOTCH */
.notch{
  width:120px;
  height:28px;
  background:#020617;
  margin:10px auto 0;
  border-radius:0 0 18px 18px;
}

/* SCREEN */
.screen{
  flex:1;
  padding:20px;
  display:flex;
  flex-direction:column;
  text-align:center;
}

.status{
  font-size:12px;
  opacity:.6;
  margin-bottom:8px;
}

h1{
  font-size:20px;
  margin:6px 0;
}

.hint{
  font-size:13px;
  opacity:.7;
  margin-bottom:20px;
}

/* APPS */
.apps{
  display:flex;
  flex-direction:column;
  gap:14px;
  flex:1;
  justify-content:center;
}

.app{
  background:#1e293b;
  padding:16px;
  border-radius:14px;
  cursor:pointer;
  text-align:left;
  transition:.2s;
}

.app:hover{
  background:#334155;
}

/* ESCAPE BUTTON */
#escapeBtn{
  margin-top:15px;
  padding:14px;
  border:none;
  border-radius:12px;
  background:#22c55e;
  color:black;
  font-size:16px;
  cursor:pointer;
  opacity:.4;
}

#escapeBtn:enabled{opacity:1}

/* MODAL */
#overlay{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.8);
  display:none;
  justify-content:center;
  align-items:center;
}

.hidden{display:none}

.modal{
  background:#f8fafc;
  color:#020617;
  padding:20px;
  border-radius:16px;
  width:85%;
  text-align:center;
}

.modal button{
  width:100%;
  padding:10px;
  margin-top:10px;
  border:none;
  border-radius:10px;
  cursor:pointer;
}

.safe{background:#22c55e}
.risky{background:#f87171}

#feedback{
  margin-top:10px;
  font-weight:bold;
}
</style>
</head>

<body>

<div id="phone">
  <div class="notch"></div>

  <div class="screen">
    <div class="status">12:07 â€¢ No Signal</div>
    <h1>Locked in Your Phone</h1>
    <p class="hint">Make safe choices to escape</p>

    <div class="apps">
      <div class="app" onclick="openScenario('messages')">ðŸ’¬ Messages</div>
      <div class="app" onclick="openScenario('camera')">ðŸ“· Camera</div>
      <div class="app" onclick="openScenario('profile')">ðŸ‘¤ Profile Settings</div>
    </div>

    <button id="escapeBtn" disabled onclick="alert('You escaped! Pause. Verify. Protect.')">
      ðŸšª Escape Phone
    </button>
  </div>

  <!-- MODAL -->
  <div id="overlay" class="hidden">
    <div class="modal">
      <p id="scenarioText"></p>
      <div id="choices"></div>
      <p id="feedback"></p>
    </div>
  </div>
</div>

<script>
let solved = { messages:false, camera:false, profile:false };

if (solved[type]) return;
function openScenario(type){
  document.getElementById("overlay").style.display = "flex";
  document.getElementById("choices").innerHTML="";
  document.getElementById("feedback").innerText="";

  if(type==="messages"){
    setScenario(
      "A stranger claims they know you and wants to chat.",
      [
        ["Reply immediately", false],
        ["Ask them to verify who they are", true, "messages",
         "âœ” Verifying identity helps prevent impersonation."]
      ]
    );
  }

  if(type==="camera"){
    setScenario(
      "Someone asks you to send a private photo.",
      [
        ["Send the photo", false],
        ["Refuse and keep it private", true, "camera",
         "âœ” Images can be saved, shared, or misused."]
      ]
    );
  }

  if(type==="profile"){
    setScenario(
      "The app suggests making your profile public with full details.",
      [
        ["Make profile public", false],
        ["Keep profile private", true, "profile",
         "âœ” Limiting personal info reduces online risks."]
      ]
    );
  }
}

function setScenario(text, options){
  document.getElementById("scenarioText").innerText=text;

  options.forEach(opt=>{
    const btn=document.createElement("button");
    btn.innerText=opt[0];
    btn.className=opt[1]?"safe":"risky";

    btn.onclick=()=>{
      if(opt[1]){
        solved[opt[2]]=true;
        document.getElementById("feedback").innerText=opt[3];
        checkEscape();
      }else{
        document.getElementById("feedback").innerText="âš  This choice may lead to harm.";
      }
      setTimeout(() => {
  document.getElementById("overlay").style.display = "none";
}, 800);
    };
    document.getElementById("choices").appendChild(btn);
  });
}

function checkEscape(){
  if(solved.messages && solved.camera && solved.profile){
    document.getElementById("escapeBtn").disabled=false;
  }
}
</script>

</body>
</html>
